/* Container Styles ------------------------------------------------------------------------------------------------- */

@container tjs-color-picker-container (min-width: 0) {
    .tjs-color-picker .tjs-color-picker-wrapper-default {
        border-radius: var(--tjs-color-picker-wrapper-border-radius, max(4px, 2cqw));
        padding: var(--tjs-color-picker-wrapper-padding, max(3px, 2cqw));
    }

    /* First two direct children (picker / first slider) margin */
    .tjs-color-picker .tjs-color-picker-wrapper-default > div:nth-child(-n+2)  {
        margin: var(--tjs-color-picker-picker-margin, 0 max(3px, 2.5cqw) 0 0);
    }

    .tjs-color-picker .tjs-color-picker-wrapper-default .tjs-picker-wrapper {
        width: var(--tjs-color-picker-picker-width, 75cqw);
        height: var(--tjs-color-picker-picker-height, 75cqw);

        border-radius: var(--tjs-color-picker-picker-border-radius, max(4px, 2cqw));
    }
}

@container tjs-color-picker-container (width < 200px) {
    .tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-wrapper {
        width: var(--tjs-color-picker-slider-width, max(10px, 5cqw));
        height: var(--tjs-color-picker-slider-height, 75cqw);
    }

    /**
     * slider indicator relative to entire container These values are the static values when slider width is clamped
     * above.
     */
    .tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-indicator {
        border: 2px solid white;
        border-radius: 7px;
        margin-left: -2px;

        outline-width: 2px;

        width: 14px;
        height: 14px;
    }
}

@container tjs-color-picker-container (width >= 200px) {
    .tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-wrapper {
        width: var(--tjs-color-picker-slider-width, 5cqw);
        height: var(--tjs-color-picker-slider-height, 75cqw);
    }

    /**
     * slider indicator relative to entire container vs slider as independent container.
     * These values are the static values when slider width is clamped above to 10px.
     */
    .tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-indicator {
        border: 1cqw solid white;
        border-radius: 3.5cqw;
        margin-left: -1cqw;

        outline-width: 1cqw;

        width: 7cqw;
        height: 7cqw;
    }
}

/* Static Styles ---------------------------------------------------------------------------------------------------- */

.tjs-color-picker .tjs-color-picker-wrapper-default {
    background: var(--tjs-color-picker-wrapper-background, white);
    border: var(--tjs-color-picker-wrapper-border, 1px solid black);
    margin: var(--tjs-color-picker-wrapper-margin, 0);

    width: max-content;
    height: max-content;
}

.tjs-color-picker .tjs-color-picker-wrapper-default .tjs-picker-wrapper {
    display: inline-block;
    overflow: hidden;
    user-select: none;

    outline: 2px solid transparent;
    outline-offset: 3px;
    transition: outline 0.2s ease-in-out;
}

.tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-wrapper {
    display: inline-block;
    border-radius: var(--tjs-color-picker-slider-border-radius, 7px);
    /*overflow: hidden;*/
    user-select: none;

    /*outline: 2px solid transparent;*/
    /*outline-offset: 3px;*/
    /*transition: outline 0.2s ease-in-out;*/
}

.tjs-color-picker .tjs-color-picker-wrapper-default .tjs-slider-indicator {
    position: absolute;
    pointer-events: none;
    z-index: 1;

    background: transparent;

    box-sizing: border-box;
    box-shadow: 0 0 4px black, inset 0 0 4px black;

    outline-color:transparent;
    outline-style: solid;

    transition: outline 0.2s ease-in-out;
}

.tjs-color-picker .tjs-color-picker-wrapper-default div.focused {
    outline-color: var(--tjs-color-picker-focus-color, red);
}
